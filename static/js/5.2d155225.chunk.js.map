{"version":3,"sources":["Components/Photos/PhotoSlider/PhotosSlider.module.css","HOC/withRedirect.jsx","Components/Error/Error.module.css","Assets/img/error.gif","HOC/withErrorHandle.jsx","Components/NoItems/NoItems.module.css","Assets/img/empty.gif","Components/NoItems/NoItems.jsx","Components/Success/Success.module.css","Assets/img/Success.gif","Components/Success/Success.jsx","Components/Upload/Upload.jsx"],"names":["module","exports","mapStateToProps","state","isLoged","authReducer","withLoginRedirect","Component","connect","props","to","currentError","photosReducer","withErrorHandle","clearErrorThunk","Error","className","s","errorBlock","errorImg","src","gif","alt","errorOk","onClick","NoItems","empty_header","empty_img","empty","Success","setSuccess","success","successBlock","successImg","successOk","SwiperCore","use","Navigation","compose","dogs","uid","userId","uploadedId","filter","item","pos","arr","indexOf","likedDogsId","dislikedDogsId","votesId","clearDogsThunk","createVoteThunk","setAllVotesIdThunk","uploadImgThunk","setUploadedItemsThunk","React","useState","preloader","setPreloader","useEffect","setTimeout","UploadImg","e","a","target","files","length","file","сlassName","wrapper","scroll_title","scroll","spaceBetween","slidesPerView","navigation","observer","map","u","slide","label","breeds","r","name","url","img","thumbs","thumbDown","some","elem","id","thumbDownActive","console","log","thumbUp","thumbUpActive","fetch_button","type","onChange","accept","for"],"mappings":"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","file":"static/js/5.2d155225.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"PhotosSlider_img__prIXe\",\"scroll\":\"PhotosSlider_scroll__2TJDy\",\"slide\":\"PhotosSlider_slide__vEiu3\",\"scroll_title\":\"PhotosSlider_scroll_title__25j5K\",\"thumbs\":\"PhotosSlider_thumbs__3mBXQ\",\"thumbUp\":\"PhotosSlider_thumbUp__2mzPb\",\"thumbDown\":\"PhotosSlider_thumbDown__2HMLE\",\"thumbUpActive\":\"PhotosSlider_thumbUpActive__26RKc\",\"thumbDownActive\":\"PhotosSlider_thumbDownActive__3vQWE\",\"label\":\"PhotosSlider_label__1Q8Gb\",\"fetch_button\":\"PhotosSlider_fetch_button__1yi5O\"};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isLoged: state.authReducer.isLoged\r\n})\r\n\r\nexport const withLoginRedirect = (Component) => { // HOC\r\n\r\n    const RedirectComponent = (props) => { // Container\r\n        if (!props.isLoged) return <Redirect to='/login' /> // added Logic\r\n        return <Component {...props} /> // inner Component\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"Error_errorBlock__1P0ll\",\"errorImg\":\"Error_errorImg__1pBD6\",\"errorOk\":\"Error_errorOk__1ryo-\"};","export default __webpack_public_path__ + \"static/media/error.5ab9c481.gif\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { clearErrorThunk } from '../Redux/photosReducer'\r\nimport gif from '../Assets/img/error.gif'\r\nimport s from '../Components/Error/Error.module.css'\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    currentError: state.photosReducer.currentError\r\n})\r\n\r\n\r\nexport const withErrorHandle = (Component) => { // HOC\r\n\r\n    const ErrorComponentContainer = (props) => {  // Created Container Component \r\n        if (props.currentError) { return <Error clearErrorThunk={props.clearErrorThunk} currentError={props.currentError} /> }\r\n        else { return <Component props={props} /> } \r\n    }\r\n    return connect(mapStateToProps, { clearErrorThunk })(ErrorComponentContainer)\r\n}\r\n\r\n\r\nconst Error = ({ currentError, clearErrorThunk }) => { //added Component\r\n\r\n    return <div className={s.errorBlock}>\r\n            <h3>{currentError} ⚠️</h3>\r\n            <div className={s.errorImg}>\r\n                <img src={gif} alt=\"error\" />\r\n            </div>\r\n            <div className={s.errorOk} onClick={clearErrorThunk}>OK</div>\r\n        </div>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty_img\":\"NoItems_empty_img__3dmc1\",\"empty_header\":\"NoItems_empty_header__3gpbf\"};","export default __webpack_public_path__ + \"static/media/empty.002bb8b3.gif\";","import React from 'react'\r\nimport s from './NoItems.module.css'\r\nimport empty from '../../Assets/img/empty.gif'\r\n\r\nconst NoItems = () => {\r\n\r\n    return<>\r\n    <h3 className={s.empty_header}>You have no items here at the moment</h3>\r\n    <div className={s.empty_img}>\r\n        <img src={empty} alt=\"no Items\"/>\r\n    </div> \r\n    </>\r\n        \r\n}\r\n\r\nexport default NoItems;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"successBlock\":\"Success_successBlock__QvgVE\",\"successImg\":\"Success_successImg__JzIl4\",\"successOk\":\"Success_successOk__3adh-\"};","export default __webpack_public_path__ + \"static/media/Success.52232fe3.gif\";","import React from 'react'\r\nimport s from './Success.module.css'\r\nimport gif from '../../Assets/img/Success.gif'\r\nimport { Redirect } from 'react-router'\r\n\r\nconst Success = ({setSuccess, success}) => {\r\n\r\n\r\n    return <div className={s.successBlock}>\r\n        <div className={s.successImg}>\r\n            <img src={gif} alt=\"success\" />\r\n            <h3>Uploaded Successfully</h3>\r\n        </div>\r\n        <div className={s.successOk} \r\n        onClick={()=> {setSuccess(false); return <Redirect to=\"/upload\"/>} }>OK</div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Success","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper.scss';\r\nimport 'swiper/components/navigation/navigation.scss';\r\nimport { connect } from 'react-redux';\r\nimport SwiperCore, { Navigation } from 'swiper';\r\nimport s from '../Photos/PhotoSlider/PhotosSlider.module.css';\r\nimport { clearDogsThunk, createVoteThunk, setAllVotesIdThunk, uploadImgThunk, setUploadedItemsThunk } from '../../Redux/photosReducer';\r\nimport { withLoginRedirect } from '../../HOC/withRedirect'\r\nimport PreloaderCSS from '../../Assets/Prelouder'\r\nimport NoItems from '../NoItems/NoItems';\r\nimport {withErrorHandle} from '../../HOC/withErrorHandle'\r\nimport Success from '../Success/Success';\r\n\r\n\r\nSwiperCore.use([Navigation]);\r\n\r\n\r\nconst Upload = (props) => {\r\n\r\n  const [preloader, setPreloader] = React.useState(0);\r\n  const [success, setSuccess] = React.useState(false);\r\n\r\n\r\n  React.useEffect(() => { // USE EFFECT\r\n    props.setUploadedItemsThunk(props.uploadedId);\r\n    setTimeout(() => { setPreloader(1) }, 2000);\r\n    return () => {\r\n      props.clearDogsThunk();\r\n    }\r\n  }, [success])\r\n\r\n\r\n  const UploadImg = async (e) => { // UPLOAD CALLBACK\r\n    if (e.target.files.length) {\r\n      const file = e.target.files[0];\r\n      await props.uploadImgThunk(file, props.uid);\r\n      setSuccess(true);\r\n    }\r\n  }\r\n\r\n\r\n  if(success) {\r\n    return <Success setSuccess={setSuccess} success={success}/>\r\n  }\r\n\r\n\r\n\r\n  return (<div сlassName={s.wrapper}>\r\n\r\n    <h3 className={s.scroll_title}>Here you can post your doggy 🐶 </h3>\r\n\r\n    {props.dogs.length? (<div className={s.scroll}>\r\n      <Swiper\r\n        spaceBetween={20}\r\n        slidesPerView={1}\r\n        navigation\r\n        observer={true}>\r\n\r\n        {props.dogs.map(u => (<SwiperSlide key={u.id}>\r\n          <div className={s.slide}>\r\n            {(preloader === 0) ? <PreloaderCSS /> : null}\r\n            <div className={s.label}>{u.breeds ? u.breeds.map(r => r.name) : null}</div>\r\n            <img src={u.url} className={s.img} alt=\"ever\" />\r\n            <div className={s.thumbs}>\r\n              <button className={s.thumbDown + ' ' + (props.dislikedDogsId.some(elem => elem === u.id) ? s.thumbDownActive : '')}\r\n                onClick={() => { props.dislikedDogsId.some(elem => elem === u.id) ? console.log('you disliked it') : props.createVoteThunk(u.id, 0, props.uid) }}>{\"\\uD83D\\uDC4E\"}</button>\r\n\r\n              <button className={s.thumbUp + ' ' + (props.likedDogsId.some(elem => elem === u.id) ? s.thumbUpActive : '')}\r\n                onClick={() => { props.likedDogsId.some(elem => elem === u.id) ? console.log('you liked it') : props.createVoteThunk(u.id, 1, props.uid) }}>{\"\\uD83D\\uDC4D\"}</button>\r\n            </div>\r\n          </div>\r\n        </SwiperSlide>))}\r\n\r\n      </Swiper>\r\n    </div>) : <NoItems/>}\r\n\r\n    <div className={s.fetch_button} >\r\n      <input type={\"file\"} onChange={UploadImg} accept={\"image/*\"} id={\"file\"} />\r\n      <label for=\"file\">Post a dog photo 📷</label>\r\n    </div>\r\n\r\n  </div>)\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  dogs: state.photosReducer.dogs,\r\n  uid: state.authReducer.userId,\r\n  uploadedId: state.photosReducer.uploadedId.filter((item, pos, arr) => { return arr.indexOf(item) === pos; }),\r\n  likedDogsId: state.photosReducer.likedDogsId.filter((item, pos, arr) => { return arr.indexOf(item) === pos; }),\r\n  dislikedDogsId: state.photosReducer.dislikedDogsId.filter((item, pos, arr) => { return arr.indexOf(item) === pos; }),\r\n  votesId: state.photosReducer.votesId,\r\n  currentError: state.photosReducer.currentError\r\n})\r\n\r\nexport default compose(\r\n  withLoginRedirect,\r\n  withErrorHandle,\r\n  connect(mapStateToProps, { clearDogsThunk, createVoteThunk, setAllVotesIdThunk, uploadImgThunk, setUploadedItemsThunk })\r\n)(Upload)\r\n"],"sourceRoot":""}